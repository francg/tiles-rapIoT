  <ion-header>
    <ion-navbar align-title="center">
      <!-- Toggle left side menu -->
      <button ion-button icon-only menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title>Tiles</ion-title>
    </ion-navbar>
    <ion-toolbar>
      <!--
        TODO
        this should be a button that triggers the showConnectMQTTPopup()
        from the old code
      -->
      <ion-title >{{serverConnectStatusMsg}}
        <button class="titleBttn" ion-button small color="positive" (click)="connectToServer()">Connect</button>
      </ion-title>
    </ion-toolbar>
  </ion-header>

<ion-content>
  <ion-refresher (ionRefresh)="refreshDevices($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>
  <ion-item no-lines>{{statusMsg}}</ion-item>
  <ion-list class="mainList">
    <ion-item class="devices" color="light" *ngFor="let device of devices">
      <div class="row row-center">
        <div class="col col-75">
          <b>{{device.name}}</b><br>ID: {{device.id}}
        </div>
        <div class="col">
          <button class="bttn" ion-button small color="positive" (click)="bleService.connect(device)" [hidden]="device.connected">Connect</button>
          <button class="bttn" ion-button small color="positive" id="disconnectButton" (click)="bleService.disconnect(device)" [hidden]="!device.connected">Disconnect</button>
          <button class="bttn" ion-button small color="positive" id="fetchEventMappingsButton" (click)="fetchEventMappings(device)" [hidden]="!device.connected">FETCHÂ EVT</button>
        </div>
      </div>
      <ion-list [hidden]="!device.connected" no-lines>
        <div class="row row-center">
          <div class="col col-75">
            <ion-badge class="bttnRel" badge-stable [hidden]="device.buttonPressed">Button released</ion-badge>
            <ion-badge class="bttnRel" badge-balanced [hidden]="!device.buttonPressed">Button pressed</ion-badge>
            <ion-item class="toggleIonItem" color="light">
              <ion-item class="toggleText" color="light" item-left>LED</ion-item>
              <ion-toggle class="tgle" item-left [(ngModel)]="device.ledOn" (ionChange)="bleService.sendData(device, 'led,on,red')"></ion-toggle>
            </ion-item>
          </div>
          <div class="col">
            <button class="bttn" ion-button small color="positive" (click)="changeNamePop(device)">Rename Tile</button>
          </div>
        </div>
      </ion-list>
    </ion-item>
  </ion-list>
</ion-content>

<!--
  TODO: move the code from the old www/index.html here.
  This might require changing some of it where the tags are updated
  or angular 1 is used.
-->
